/* autogenerated by Processing revision 1277 on 2021-11-25 */
import processing.core.*;
import processing.data.*;
import processing.event.*;
import processing.opengl.*;

import java.util.HashMap;
import java.util.ArrayList;
import java.io.File;
import java.io.BufferedReader;
import java.io.PrintWriter;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.IOException;

public class SpaceInvaders extends PApplet {

Spaceship s;
Invader[] i;


 public void setup(){
    /* size commented out by preprocessor */;
    noStroke();
    frameRate(30);
    ellipseMode(CENTER);
    rectMode(CENTER);
    s = new Spaceship(width/2, height/2, 20);
    Invader i[] = new Invader[10];
    for(int a = 0; a < i.length; a++){
        i[a] = new Invader(PApplet.parseFloat(20), PApplet.parseFloat(20), PApplet.parseFloat(20), false);
    }
    for(int a = 0; a < i.length; a++){
        i[a].spawn();
    }
}

 public void draw(){

    background(0);
    s.spawn();
       
}

 public void keyPressed(){

    if(key == ' '){
        s.shoot();
    }

    if(s.posY>s.tam/2){
        if(key == 'W' || key == 'w'){
            s.moveUp();
        }
    }

    if(s.posY<height-s.tam/2){
        if(key == 'S' || key == 's'){
            s.moveDown();
        }
    }

    if(s.posX>s.tam/2){
        if(key == 'A' || key == 'a'){
            s.moveLeft();
        }
    }

    if(s.posX<width-s.tam/2){
        if(key == 'D' || key == 'd'){
            s.moveRight();
        }    
    }

}
class Bullets{

//propriedades 
float posX, posY, tam1, tam2;

//construtor

    Bullets(float x, float y, float t1, float t2){

        posX = x;
        posY = y;
        tam1 = t1;
        tam2 = t2;

    }

     public void spawn(float x, float y){
        
        fill(25, 50, 200);
        rect(x, y, tam1, tam2);
        
    }

     public void move(){

        for (int i = 0; i < 9001; i++){

            spawn(s.posX, s.posY);
                if(posX < height){
                posY -= 10;
            }
            s.score();
        }            
    }
}
class Invader{
    
    //propriedades
    float posX, posY, tam;
    boolean hidden = false;

    //construtor
    Invader(float x, float y, float t, boolean h){
        posX = x;
        posY = y;
        tam = t;
        hidden = h;
    }

     public void spawn(){

        fill(0, 255, 0);
        rect(posX, posY, tam, tam);

    }

     public void targetHit(){

        //hidden = true;
        
    }

}
class Spaceship{

    //propriedades
    
    float posX, posY, tam;
    Bullets b[] = new Bullets[9001];
    int score = 0;

    //construtor
    Spaceship(float x, float y, float t){
        posX = x;
        posY = y;
        tam = t;

        for (int i = 0; i < 9001; i++){
            b[i]= new Bullets(posX, posY, 10, 10);
        }
        
    }

     public void spawn(){

        println(" score :"+score);
        fill(255, 0, 0);
        triangle(posX, posY, posX+tam, posY, posX+tam/2, posY-tam);

    }

     public void moveLeft(){

        s.posX = s.posX - 10;           

    }

     public void moveRight(){

       s.posX = s.posX + 10;
        
    }

     public void moveUp(){

        s.posY = s.posY - 10;
        
    }

     public void moveDown(){

        s.posY = s.posY + 10;
        
    }

     public void shoot(){

        for (int i = 0; i < b.length; i++){

            b[i].move();
            score();
        }
        
    }

     public void score(){

        //f (dist(b.posX, b.posY, i.posX, i.posY) < 15){
        //    i.targetHit();
        //    s.score++;
        //}
    }

}


  public void settings() { size(800, 800); }

  static public void main(String[] passedArgs) {
    String[] appletArgs = new String[] { "SpaceInvaders" };
    if (passedArgs != null) {
      PApplet.main(concat(appletArgs, passedArgs));
    } else {
      PApplet.main(appletArgs);
    }
  }
}
